/*
 * generated by Xtext 2.14.0.RC1
 */
package co.migueljimenez.terraform.validation

import org.eclipse.xtext.validation.Check
import co.migueljimenez.terraform.terraform.Declaration
import co.migueljimenez.terraform.terraform.TerraformPackage

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
class TerraformValidator extends AbstractTerraformValidator {
	
	public static val INVALID_DECLARATION = 'invalidName'

	@Check
	def checkDeclaration(Declaration declaration) {
		val resources = #["variable", "output", "provider", "resource"]
		if (!resources.contains(declaration.resource)) {
			error(
				'''Unknown resource «declaration.resource»''',
				TerraformPackage.Literals.DECLARATION__RESOURCE,
				INVALID_DECLARATION
			)
		}
	}
	
}
